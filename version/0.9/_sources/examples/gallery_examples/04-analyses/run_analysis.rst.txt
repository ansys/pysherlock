
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "examples\gallery_examples\04-analyses\run_analysis.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_examples_gallery_examples_04-analyses_run_analysis.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_examples_gallery_examples_04-analyses_run_analysis.py:


.. _ref_sherlock_run_advanced_analysis:

=====================
Run Advanced Analysis
=====================

This example demonstrates how to connect to the Sherlock gRPC service, import a project,
and run various analyses on a project, including part validation, natural frequency,
thermal derating, and more.

Description
-----------
Sherlock provides the ability to perform various types of analyses on a project.
This script demonstrates how to:
- Connect to the Sherlock service.
- Import a project into Sherlock.
- Run several types of analyses, such as part validation, mechanical shock, harmonic vibration,
and others.

.. GENERATED FROM PYTHON SOURCE LINES 39-52

.. code-block:: Python



    import os

    from examples.examples_globals import get_sherlock_tutorial_path

    from ansys.sherlock.core import launcher
    from ansys.sherlock.core.errors import (
        SherlockImportProjectZipArchiveError,
        SherlockRunAnalysisError,
    )
    from ansys.sherlock.core.types.analysis_types import RunAnalysisRequestAnalysisType


.. GENERATED FROM PYTHON SOURCE LINES 54-57

Connect to Sherlock
===================
Connect to the Sherlock service and ensure proper initialization.

.. GENERATED FROM PYTHON SOURCE LINES 57-60

.. code-block:: Python


    sherlock = launcher.connect(port=9092, timeout=10)


.. GENERATED FROM PYTHON SOURCE LINES 61-64

Delete Project
==============
Delete the project if it already exists.

.. GENERATED FROM PYTHON SOURCE LINES 64-71

.. code-block:: Python


    try:
        sherlock.project.delete_project("Test")
        print("Project deleted successfully.")
    except Exception:
        pass


.. GENERATED FROM PYTHON SOURCE LINES 72-75

Import Tutorial Project
=======================
Import the tutorial project zip archive from the Sherlock tutorial directory.

.. GENERATED FROM PYTHON SOURCE LINES 75-86

.. code-block:: Python


    try:
        sherlock.project.import_project_zip_archive(
            project="Test",
            category="Demos",
            archive_file=os.path.join(get_sherlock_tutorial_path(), "Auto Relay Project.zip"),
        )
        print("Tutorial project imported successfully.")
    except SherlockImportProjectZipArchiveError as e:
        print(f"Error importing project zip archive: {e}")


.. GENERATED FROM PYTHON SOURCE LINES 87-90

Run Multiple Analyses
=====================
Run various types of analyses on the "Main Board" in the "Tutorial Project".

.. GENERATED FROM PYTHON SOURCE LINES 90-114

.. code-block:: Python


    try:
        # Run analyses

        analysis_types = [
            (RunAnalysisRequestAnalysisType.PTH_FATIQUE, [("Phase 1", ["Thermal Event"])]),
            (
                RunAnalysisRequestAnalysisType.SEMICINDUCTOR_WEAROUT,
                [("Phase 1", ["Thermal Event"])],
            ),
            (RunAnalysisRequestAnalysisType.THERMAL_DERATING, [("Phase 1", ["Thermal Event"])]),
            (
                RunAnalysisRequestAnalysisType.COMPONENT_FAILURE_MODE,
                [("Phase 1", ["Thermal Event"])],
            ),
        ]

        for analysis_type, params in analysis_types:
            sherlock.analysis.run_analysis(
                project="Test", cca_name="Auto Relay", analyses=[(analysis_type, params)]
            )

    except SherlockRunAnalysisError as e:
        print(f"Error running analysis: {e}")


.. _sphx_glr_download_examples_gallery_examples_04-analyses_run_analysis.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: run_analysis.ipynb <run_analysis.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: run_analysis.py <run_analysis.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: run_analysis.zip <run_analysis.zip>`
